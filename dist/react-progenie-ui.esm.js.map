{"version":3,"file":"react-progenie-ui.esm.js","sources":["../src/utils/Dialog.ts","../node_modules/style-inject/dist/style-inject.es.js","../src/components/DialogProvider.tsx","../src/components/ProgenieProvider.tsx","../src/hooks/useDialog.ts","../src/index.tsx"],"sourcesContent":["\nimport $ from 'jquery';\n\ninterface DialogInput {\n  type?: string;\n  placeholder?: string;\n  [key: string]: string | undefined;\n}\n\ninterface LoginInput {\n  [key: string]: string | undefined;\n}\n\ninterface DialogParams {\n  title?: string;\n  message?: string;\n  button?: string;\n  cancel?: string;\n  required?: boolean;\n  position?: string;\n  animation?: string;\n  hasButton?: boolean;\n  input?: DialogInput;\n  first?: LoginInput;\n  second?: LoginInput;\n  validate?: (val: string) => boolean | void;\n  callback?: (val: any) => void;\n}\n\nconst meta = document.querySelector<HTMLMetaElement>('[name=\"bivalert\"]');\n\nif (meta && meta.content === 'true') {\n \n\n  const dialog = {\n    defaultParams: {\n      title: '',\n      message: '',\n      button: 'Ok',\n      cancel: 'Cancel',\n      required: false,\n      position: 'fixed',\n      animation: 'scale',\n      input: {\n        type: 'text'\n      },\n      validate: () => {},\n      callback: () => {}\n    } as DialogParams,\n\n    transitionEnd: 'transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd',\n\n    overlay: undefined as JQuery<HTMLElement> | undefined,\n    holder: undefined as JQuery<HTMLElement> | undefined,\n\n    alert(params: DialogParams) {\n      this.appendDialogHolder();\n      const b = $.extend(true, {}, this.defaultParams, params);\n      const id = this.generateRandomId();\n\n      const button = b.hasButton === false ? '' : `<div class=\"dialog-confirm\">${b.button}</div>`;\n      const html = `\n        <div class=\"dialog-alert\" id=\"${id}\">\n          <div class=\"dialog-border\"></div>\n          <div class=\"dialog-title\">${b.title}</div>\n          <div class=\"dialog-message\">${b.message}</div>\n          <div class=\"dialog-close\">&times;</div>\n          ${button}\n          <div class=\"dialog-clearFloat\"></div>\n        </div>`;\n\n      this.holder!.find('td').append(html);\n\n      const el = $(`#${id}`);\n      const confirm = el.find('.dialog-confirm');\n      const close = el.find('.dialog-close');\n\n      if (b.required) close.remove();\n\n      el.attr('data-dialog-position', b.position!);\n      el.attr('data-dialog-animation', b.animation!);\n\n      this.injectDialog();\n\n      confirm.one('click.dialog', () => b.callback?.(true));\n      close.one('click.dialog', () => b.callback?.(null));\n    },\n\n    prompt(params: DialogParams) {\n      this.appendDialogHolder();\n      const b = $.extend(true, {}, this.defaultParams, params);\n      const id = this.generateRandomId();\n      let attrs = '';\n\n      for (const key in b.input!) {\n        attrs += ` ${key}=\"${b.input![key]}\"`;\n      }\n\n      const html = `\n        <div class=\"dialog-alert\" id=\"${id}\">\n          <div class=\"dialog-border\"></div>\n          <div class=\"dialog-title\">${b.title}</div>\n          <div class=\"dialog-message\">${b.message}</div>\n          <label><input ${attrs} /></label>\n          <div class=\"dialog-close\">&times;</div>\n          <div class=\"dialog-confirm\">${b.button}</div>\n          <div class=\"dialog-clearFloat\"></div>\n        </div>`;\n\n      this.holder!.find('td').append(html);\n\n      const el = $(`#${id}`);\n      const confirm = el.find('.dialog-confirm');\n      const close = el.find('.dialog-close');\n      const input = el.find('input');\n\n      if (b.required) close.remove();\n\n      el.attr('data-dialog-position', b.position!);\n      el.attr('data-dialog-animation', b.animation!);\n\n      this.injectDialog();\n\n      confirm.on('click.dialog', () => {\n        const val = input.val() as string;\n        const valid = b.validate!(val) !== false;\n\n        if (b.required && val === '') {\n          this.shakeDialog(el);\n          return false;\n        }\n\n        if (valid) {\n          b.callback?.(val);\n          return true;\n        } else {\n          this.shakeDialog(el);\n          return false;\n        }\n      });\n\n      close.one('click.dialog', () => b.callback?.(null));\n    },\n\n    login(params: DialogParams) {\n      this.appendDialogHolder();\n      const b = $.extend(true, {}, this.defaultParams, params);\n      const id = this.generateRandomId();\n\n      let firstAttr = '';\n      let secondAttr = '';\n\n      for (const key in b.first!) firstAttr += ` ${key}=\"${b.first![key]}\"`;\n      for (const key in b.second!) secondAttr += ` ${key}=\"${b.second![key]}\"`;\n\n      const html = `\n        <div class=\"dialog-alert\" id=\"${id}\">\n          <div class=\"dialog-border\"></div>\n          <div class=\"dialog-title\">${b.title}</div>\n          <div class=\"dialog-message\">${b.message}</div>\n          <label><input class=\"first\" ${firstAttr} /></label>\n          <label><input class=\"second\" ${secondAttr} /></label>\n          <div class=\"dialog-close\">&times;</div>\n          <div class=\"dialog-confirm\">${b.button}</div>\n          <div class=\"dialog-clearFloat\"></div>\n        </div>`;\n\n      this.holder!.find('td').append(html);\n\n      const el = $(`#${id}`);\n      const confirm = el.find('.dialog-confirm');\n      const close = el.find('.dialog-close');\n      const firstInput = el.find('input.first');\n      const secondInput = el.find('input.second');\n\n      if (b.required) close.remove();\n\n      el.attr('data-dialog-position', b.position!);\n      el.attr('data-dialog-animation', b.animation!);\n\n      this.injectDialog();\n\n      confirm.on('click.dialog', () => {\n        const val1 = firstInput.val() as string;\n        const val2 = secondInput.val() as string;\n      \n        const valid1 = b.validate!(val1) !== false;\n        const valid2 = b.validate!(val2) !== false;\n      \n        if (b.required && (val1 === '' || val2 === '')) {\n          return this.shakeDialog(el);\n        }\n      \n        if (valid1 && valid2) {\n          b.callback?.({ value1: val1, value2: val2 });\n          return true; // Explicit return\n        } else {\n          return this.shakeDialog(el);\n        }\n      });\n\n      close.one('click.dialog', () => b.callback?.(null));\n    },\n\n    confirm(params: DialogParams) {\n      this.appendDialogHolder();\n      const b = $.extend(true, {}, this.defaultParams, params);\n      const id = this.generateRandomId();\n\n      const html = `\n        <div class=\"dialog-alert\" id=\"${id}\">\n          <div class=\"dialog-border\"></div>\n          <div class=\"dialog-title\">${b.title}</div>\n          <div class=\"dialog-message\">${b.message}</div>\n          <div class=\"dialog-close\">&times;</div>\n          <div class=\"dialog-confirm\">${b.button}</div>\n          <div class=\"dialog-cancel\">${b.cancel}</div>\n          <div class=\"dialog-clearFloat\"></div>\n        </div>`;\n\n      this.holder!.find('td').append(html);\n\n      const el = $(`#${id}`);\n      const confirm = el.find('.dialog-confirm');\n      const cancel = el.find('.dialog-cancel');\n      const close = el.find('.dialog-close');\n\n      if (b.required) close.remove();\n\n      el.attr('data-dialog-position', b.position!);\n      el.attr('data-dialog-animation', b.animation!);\n\n      this.injectDialog();\n\n      confirm.one('click.dialog', () => b.callback?.(true));\n      cancel.one('click.dialog', () => b.callback?.(false));\n      close.one('click.dialog', () => b.callback?.(null));\n    },\n\n    generateRandomId(): string {\n      return `${Math.floor(1e6 * Math.random()) + 1}${Date.now()}`;\n    },\n\n    showDialog() {\n      $(':focus').blur();\n      const current = $('.dialog-alert:first');\n\n      if (current.attr('data-dialog-position') === 'absolute') {\n        this.holder!.removeClass('dialog-fixed').css('top', $(window).scrollTop() as number);\n      } else {\n        this.holder!.addClass('dialog-fixed').css('top', '');\n      }\n\n      $(window).trigger('resize.dialog');\n      $('.dialog-alert').hide();\n      current.show();\n\n      setTimeout(() => {\n        current\n          .on(this.transitionEnd, function (e:any) {\n            if ($(e.target).is(this)) {\n              $(this).off(dialog.transitionEnd);\n              dialog.focusElement(current.find('input.first')[0], current.find('input.second')[0], true);\n            }\n          })\n          .addClass('dialog-visible');\n      }, 1);\n\n      $('html').addClass('dialogIsVisible');\n    },\n\n    injectDialog() {\n      if ($('.dialog-alert:visible').length === 0) {\n        this.showDialog();\n      } else {\n        $('.dialog-alert:last').hide();\n      }\n      this.overlay!.addClass('dialog-visible');\n    },\n\n    shakeDialog(el: JQuery) {\n      el\n        .one('webkitAnimationEnd oanimationend msAnimationEnd animationend', () => {\n          el.removeClass('dialog-shaking');\n        })\n        .addClass('dialog-shaking');\n      return false;\n    },\n\n    focusElement(el1?: HTMLElement, el2?: HTMLElement, setCursor = false) {\n      const el = el1 || el2;\n      if (el) {\n        $(el)\n          .one('blur.dialog', () => {\n            this.focusElement(el, undefined);\n          })\n          .focus();\n\n        if (setCursor && (el as HTMLInputElement).selectionStart !== undefined) {\n          const input = el as HTMLInputElement;\n          input.setSelectionRange(input.value.length, input.value.length);\n          input.scrollLeft = input.scrollWidth;\n        }\n      }\n    },\n\n    appendDialogHolder() {\n      if (!this.holder) {\n        $('body').append('<div id=\"dialog-overlay\"></div><div id=\"dialog-holder\"><table id=\"dialog-center\"><tr><td></td></tr></table></div>');\n        this.overlay = $('#dialog-overlay');\n        this.holder = $('#dialog-holder');\n        this.bindDialogGlobalEvents();\n        $('html').addClass('dialogHolderIsVisible');\n      }\n    },\n\n    removeDialogHolder() {\n      this.unbindDialogGlobalEvents();\n      this.overlay?.remove();\n      this.holder?.remove();\n      this.overlay = undefined;\n      this.holder = undefined;\n      $('html').removeClass('dialogHolderIsVisible');\n    },\n\n    close() {\n      const current = $('.dialog-alert:not(.dialog-closing):first');\n      current\n        .addClass('dialog-closing')\n        .on(this.transitionEnd, function (e:any) {\n          if ($(e.target).is(this)) {\n            $(this).off(dialog.transitionEnd).remove();\n            $('html').removeClass('dialogIsVisible');\n\n            if ($('.dialog-alert').length === 0) {\n              dialog.overlay!\n                .addClass('dialog-closing')\n                .on(dialog.transitionEnd, function (e) {\n                  if ($(e.target).is(this)) {\n                    $(this).off(dialog.transitionEnd);\n                    dialog.removeDialogHolder();\n                  }\n                })\n                .removeClass('dialog-visible');\n            } else {\n              dialog.showDialog();\n            }\n          }\n        })\n        .removeClass('dialog-visible');\n    },\n\n    bindDialogGlobalEvents() {\n      this.holder!.add(this.overlay!).on('click.dialog', (e:any) => {\n        if (!$(e.target).closest('.dialog-alert').is('.dialog-alert')) {\n          $('.dialog-close:visible').trigger('click');\n        }\n      });\n\n      $(document).on('click.dialog', '.dialog-confirm, .dialog-cancel, .dialog-close', () => {\n        this.close();\n        return false;\n      });\n\n      $(document).on('keyup.dialog', (e:any) => {\n        if (e.key === 'Escape' && $('.dialog-alert:visible').length > 0) {\n          $('.dialog-close:visible').trigger('click');\n        }\n      });\n\n      $(document).on('keydown.dialog', (e:any) => {\n        if (e.key === 'Enter' && $('.dialog-alert:visible').length > 0) {\n          $('.dialog-confirm').trigger('click');\n          return false;\n        }\n        return undefined;\n      });\n\n      $(window).on('resize.dialog', () => {\n        this.overlay!.height('100%').height($(document).height() as number | string);\n      });\n    },\n\n    unbindDialogGlobalEvents() {\n      this.overlay?.off('.dialog');\n      this.holder?.off('.dialog');\n      $(document).off('.dialog');\n      $(window).off('.dialog');\n    }\n  };\n\n  // Expor para uso externo\n  (window as any).dialog = dialog;\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { useEffect } from 'react';\nimport \"../utils/Dialog\"\nimport '../styles/dialog.css';\n\ndeclare global {\n  interface Window {\n    dialog: any;\n  }\n}\n\ninterface DialogProviderProps {\n  children?: React.ReactNode;\n}\n\nconst DialogProvider: React.FC<DialogProviderProps> = ({ children }) => {\n  useEffect(() => {\n    const meta = document.querySelector('[name=\"bivalert\"]');\n    \n    if (meta && meta.getAttribute('content') === 'true') {\n      initializeDialog();\n    }\n\n    return () => {\n      // Cleanup if needed\n    };\n  }, []);\n\n  const initializeDialog = () => {\n    if (typeof window !== 'undefined' && !window.dialog) {\n      const script = document.createElement('script');\n      script.innerHTML = `\n        // Your minified dialog code here\n        (function($){...})(jQuery);\n      `;\n      document.body.appendChild(script);\n    }\n  };\n\n  return <>{children}</>;\n};\n\nexport default DialogProvider;","import React, { ReactNode } from 'react';\nimport DialogProvider from './DialogProvider';\n\ninterface ProgenieProviderProps {\n  children?: ReactNode;\n}\n\nconst ProgenieProvider: React.FC<ProgenieProviderProps> = ({ children }) => {\n  return (\n    <>\n      <DialogProvider />\n      {children}\n    </>\n  );\n};\n\nexport default ProgenieProvider;","import { useCallback } from 'react';\n\ninterface AlertDialogInterface {\n  title?: string;\n  message?: string;\n  button?: string;\n  hasButton?: boolean;\n  required?: boolean;\n  selectable?: boolean;\n  onForceDismiss?: () => void;\n  callback?: (e: string|boolean | null|any) => void;\n  onOk?: () => void;\n}\n\ninterface ConfirmDialogInterface extends AlertDialogInterface {\n  cancel?: string;\n  onCancel?: () => void;\n}\n\ninterface PromptDialogInterface extends AlertDialogInterface {\n  input?: {\n    type?: string;\n    placeholder?: string;\n    [key: string]: any;\n  };\n  validate?: (value: string) => boolean | void;\n  callback?: (value: string | null) => void;\n}\n\ninterface LoginDialogInterface extends AlertDialogInterface {\n  first?: {\n    type?: string;\n    placeholder?: string;\n    [key: string]: any;\n  };\n  second?: {\n    type?: string;\n    placeholder?: string;\n    [key: string]: any;\n  };\n  validate?: (value: string) => boolean | void;\n  callback?: (value: { value1: string; value2: string } | null) => void;\n}\n\nconst useDialog = () => {\n  const alertDialog = useCallback((options: AlertDialogInterface) => {\n    console.log(window.dialog);\n    \n    if (typeof window !== 'undefined' && window.dialog) {\n      const obj: AlertDialogInterface = {};\n      \n      obj.title = options.selectable === false \n        ? `<div style=\"user-select:none;\">${options.title ?? \"\"}</div>` \n        : options.title ?? \"\";\n        \n      obj.message = options.selectable === false \n        ? `<div style=\"user-select:none;\">${options.message ?? \"\"}</div>` \n        : options.message ?? \"\";\n\n      obj.button = options.button ?? \"OK\";\n      obj.hasButton = options.hasButton ?? (options.button !== undefined);\n      obj.required = options.required ?? false;\n\n      obj.callback = (e: any) => {\n        if (e == null) {\n          options.onForceDismiss?.();\n        } else if (e === true) {\n          options.onOk?.();\n        }\n        options.callback?.(e);\n      };\n\n      window.dialog.alert(obj);\n    } else {\n      console.warn('Dialog not initialized');\n    }\n  }, []);\n\n  const confirmDialog = useCallback((options: ConfirmDialogInterface) => {\n    if (typeof window !== 'undefined' && window.dialog) {\n      const obj: ConfirmDialogInterface = {};\n      \n      obj.title = options.selectable === false \n        ? `<div style=\"user-select:none;\">${options.title ?? \"\"}</div>` \n        : options.title ?? \"\";\n        \n      obj.message = options.selectable === false \n        ? `<div style=\"user-select:none;\">${options.message ?? \"\"}</div>` \n        : options.message ?? \"\";\n\n      obj.button = options.button ?? \"OK\";\n      obj.cancel = options.cancel ?? \"CANCEL\";\n      obj.hasButton = options.hasButton ?? (options.button !== undefined);\n      obj.required = options.required ?? false;\n\n      obj.callback = (e: any) => {\n        if (e == null) {\n          options.onForceDismiss?.();\n        } else if (e === true) {\n          options.onOk?.();\n        } else {\n          options.onCancel?.();\n        }\n        options.callback?.(e);\n      };\n\n      window.dialog.confirm(obj);\n    } else {\n      console.warn('Dialog not initialized');\n    }\n  }, []);\n\n  const promptDialog = useCallback((options: PromptDialogInterface) => {\n    if (typeof window !== 'undefined' && window.dialog) {\n      const obj: any = {\n        ...options,\n        title: options.selectable === false \n          ? `<div style=\"user-select:none;\">${options.title ?? \"\"}</div>` \n          : options.title ?? \"\",\n        message: options.selectable === false \n          ? `<div style=\"user-select:none;\">${options.message ?? \"\"}</div>` \n          : options.message ?? \"\",\n        button: options.button ?? \"OK\",\n        required: options.required ?? false,\n        input: {\n          type: \"text\",\n          placeholder: \"\",\n          ...options.input\n        }\n      };\n\n      obj.callback = (value: string | null) => {\n        if (value === null) {\n          options.onForceDismiss?.();\n        } else {\n          options.onOk?.();\n        }\n        options.callback?.(value);\n      };\n\n      window.dialog.prompt(obj);\n    } else {\n      console.warn('Dialog not initialized');\n    }\n  }, []);\n\n  const loginDialog = useCallback((options: LoginDialogInterface) => {\n    if (typeof window !== 'undefined' && window.dialog) {\n      const obj: any = {\n        ...options,\n        title: options.selectable === false \n          ? `<div style=\"user-select:none;\">${options.title ?? \"\"}</div>` \n          : options.title ?? \"\",\n        message: options.selectable === false \n          ? `<div style=\"user-select:none;\">${options.message ?? \"\"}</div>` \n          : options.message ?? \"\",\n        button: options.button ?? \"OK\",\n        required: options.required ?? false,\n        first: {\n          type: \"text\",\n          placeholder: \"\",\n          ...options.first\n        },\n        second: {\n          type: \"password\",\n          placeholder: \"\",\n          ...options.second\n        }\n      };\n\n      obj.callback = (value: { value1: string; value2: string } | null) => {\n        if (value === null) {\n          options.onForceDismiss?.();\n        } else {\n          options.onOk?.();\n        }\n        options.callback?.(value);\n      };\n\n      window.dialog.login(obj);\n    } else {\n      console.warn('Dialog not initialized');\n    }\n  }, []);\n\n  return {\n    alert: alertDialog,\n    confirm: confirmDialog,\n    prompt: promptDialog,\n    login: loginDialog\n  };\n};\n\nexport default useDialog;","import * as React from 'react';\n\n// Delete me\nexport const Thing = () => {\n  return <div>the snozzberries taste like snozzberries</div>;\n};\n\nexport { default as DialogProvider } from './components/DialogProvider';\nexport { default as ProgenieProvider } from './components/ProgenieProvider';\nexport { default as useDialog } from './hooks/useDialog';"],"names":["meta","document","querySelector","content","dialog","defaultParams","title","message","button","cancel","required","position","animation","input","type","validate","callback","transitionEnd","overlay","undefined","holder","alert","params","appendDialogHolder","b","$","extend","id","generateRandomId","hasButton","html","find","append","el","confirm","close","remove","attr","injectDialog","one","prompt","attrs","key","on","val","valid","_this","shakeDialog","login","firstAttr","secondAttr","first","second","firstInput","secondInput","val1","val2","valid1","valid2","_this2","value1","value2","Math","floor","random","Date","now","showDialog","blur","current","removeClass","css","window","scrollTop","addClass","trigger","hide","show","setTimeout","_this3","e","target","is","off","focusElement","length","el1","el2","setCursor","_this4","focus","selectionStart","setSelectionRange","value","scrollLeft","scrollWidth","bindDialogGlobalEvents","removeDialogHolder","unbindDialogGlobalEvents","_this$overlay","_this$holder","add","closest","_this5","height","_this$overlay2","_this$holder2","DialogProvider","_ref","children","useEffect","getAttribute","initializeDialog","script","createElement","innerHTML","body","appendChild","React","ProgenieProvider","useDialog","alertDialog","useCallback","options","console","log","_options$title","_options$title2","_options$message","_options$message2","_options$button","_options$hasButton","_options$required","obj","selectable","onForceDismiss","onOk","warn","confirmDialog","_options$title3","_options$title4","_options$message3","_options$message4","_options$button2","_options$cancel","_options$hasButton2","_options$required2","onCancel","promptDialog","_options$title5","_options$title6","_options$message5","_options$message6","_options$button3","_options$required3","_extends","placeholder","loginDialog","_options$title7","_options$title8","_options$message7","_options$message8","_options$button4","_options$required4","Thing"],"mappings":"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"}